"use strict";(self.webpackChunkcognito_spa=self.webpackChunkcognito_spa||[]).push([["1053"],{2580:function(n,e,t){t.d(e,{u:()=>Y});var i,o=t(26843),r=t(65360),a=t(55229),s=t(56180),u=t(86538),c=t(42556),l=t(54780),p=t(13628),d=t(5728),f=t(75331),g=t(53763),v=t(41206),h=t(60813),k=t(7035),m=t(31523),I="AuthenticatedUserContext",y="track",b="snippet",U="flush",w="pollInternalLogs",C="getPlugin",P="evtNamespace",S=y+"Event",x=y+"Trace",A=y+"Metric",T=y+"PageView",D=y+"Exception",V=y+"DependencyData",_="set"+I,L="clear"+I,O="endpointUrl",z="diagnosticLogInterval",E="config",M="context",J="push",K="version",F="queue",N="connectionString",j="instrumentationKey",q="appInsights",B="disableIkeyDeprecationMessage",H="getTransmissionControls",Q="onunloadFlush",Z="addHousekeepingBeforeUnload",W="indexOf",X=[b,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Y=function(){function n(e){var t,I,y,W,Y,$,G,R=this;(0,o.Z)(n,this,function(n){Y=(0,h.J)("AISKU"),$=null,t=null,I=null,y=null,W=null,W=""+(e.sv||e[K]||""),e[F]=e[F]||[],e[K]=e[K]||2;var o=e[E]||{};if(o[N]){var nn=(0,s.X)(o[N]),ne=nn.ingestionendpoint;o[O]=ne?ne+u.qp:o[O],o[j]=nn.instrumentationkey||o[j]}n[q]=new r.g,I=new m.Z,t=new k.a,y=new a.C,n.core=G=new l.F;var nt=!!(0,p.le)(o[B])||o[B];o[N]||nt||(0,d.kP)(G.logger,1,106,"Instrumentation key support will end soon, see aka.ms/IkeyMigrate"),n[b]=e,n[E]=o,n.config[z]=n.config[z]&&n[E][z]>0?n[E][z]:1e4,n[U]=function(n){void 0===n&&(n=!0),(0,f.Lm)(G,function(){return"AISKU.flush"},function(){(0,p.tO)(G[H](),function(e){(0,p.tO)(e,function(e){e[U](n)})})},null,n)},n[Q]=function(n){void 0===n&&(n=!0),(0,p.tO)(G[H](),function(e){(0,p.tO)(e,function(e){e[Q]?e[Q]():e[U](n)})})},n.loadAppInsights=function(e,o,r){return void 0===e&&(e=!1),e&&n[E].extensions&&n[E].extensions.length>0&&(0,p._y)("Extensions not allowed in legacy mode"),(0,f.Lm)(n.core,function(){return"AISKU.loadAppInsights"},function(){var a=[];a[J](y),a[J](I),a[J](t),a[J](n[q]),G.initialize(n[E],a,o,r),n[M]=I[M],i&&n[M]&&(n[M].internal.sdkSrc=i);var s=n[b];if(s){var u="";(0,p.le)(W)||(u+=W),e&&(u+=".lg"),n[M]&&n[M].internal&&(n[M].internal.snippetVer=u||"-"),(0,p.rW)(n,function(n,e){(0,p.HD)(n)&&!(0,p.mf)(e)&&n&&"_"!==n[0]&&-1===(0,p.UA)(X,n)&&(s[n]=e)})}n.emptyQueue(),n[w](),n[Z](n)}),n},n.updateSnippetDefinitions=function(e){(0,p.cf)(e,n,function(n){return n&&-1===(0,p.UA)(X,n)})},n.emptyQueue=function(){try{if((0,p.kJ)(n.snippet[F])){for(var e=n.snippet[F].length,t=0;t<e;t++)(0,n.snippet[F][t])();n.snippet[F]=void 0,delete n.snippet[F]}}catch(n){n&&(0,p.mf)(n.toString)&&n.toString()}},n[Z]=function(n){if((0,g.Ym)()||(0,g.Nv)()){var e=function(){if(n[Q](!1),(0,p.mf)(R.core[C])){var e=R.core[C](c.A3);if(e){var t=e.plugin;t&&t[M]&&t[M]._sessionManager&&t[M]._sessionManager.backup()}}},t=!1,i=n.appInsights[E].disablePageUnloadEvents;$||($=(0,v.jU)(Y,G[P]&&G[P]())),!n.appInsights.config.disableFlushOnBeforeUnload&&((0,v.c9)(e,i,$)&&(t=!0),(0,v.TJ)(e,i,$)&&(t=!0),t||(0,g.b$)()||(0,d.kP)(n[q].core.logger,1,19,"Could not add handler for beforeunload and pagehide")),t||n.appInsights.config.disableFlushOnUnload||(0,v.TJ)(e,i,$)}},n.getSender=function(){return y},n.unload=function(e,t,i){n[Q](e),$&&((0,v.JA)(null,$),(0,v.C9)(null,$)),G.unload&&G.unload(e,t,i)},(0,p.Vb)(n,n[q],["getCookieMgr",S,T,"trackPageViewPerformance",D,"_onerror",x,A,"startTrackPage","stopTrackPage","startTrackEvent","stopTrackEvent"]),(0,p.Vb)(n,function(){return t},[V,"addDependencyListener","addDependencyInitializer"]),(0,p.Vb)(n,G,["addTelemetryInitializer",w,"stopPollingInternalLogs",C,"addPlugin",P,"addUnloadCb","getTraceCtx"]),(0,p.Vb)(n,function(){var n=I[M];return n?n.user:null},[_,L])})}return n.prototype.addDependencyInitializer=function(n){return null},n}();!function(){var n=null,e=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var t=(document||{}).currentScript;t&&(n=t.src)}catch(n){}if(n)try{var o=n.toLowerCase();if(o){for(var r="",a=0;a<e.length;a++)if(-1!==o[W](e[a])){r="cdn"+(a+1),-1===o[W]("/scripts/")&&(-1!==o[W]("/next/")?r+="-next":-1!==o[W]("/beta/")&&(r+="-beta")),i=r+"";break}}}catch(n){}}()}}]);
//# sourceMappingURL=npm.microsoft+applicationinsights-web@2.8.18_tslib@2.8.1.9fb053f83a4c2113.js.map