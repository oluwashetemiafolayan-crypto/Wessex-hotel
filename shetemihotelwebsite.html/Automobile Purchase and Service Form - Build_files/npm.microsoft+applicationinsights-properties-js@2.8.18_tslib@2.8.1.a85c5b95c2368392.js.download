"use strict";(self.webpackChunkcognito_spa=self.webpackChunkcognito_spa||[]).push([["8113"],{31523:function(n,e,t){t.d(e,{Z:()=>nf});var i=t(23045),o=t(26843),r=t(42556),a=t(94280),s=t(88909),u=t(13561),c=t(13628),l=t(5728),f=t(53763),p=t(36889),d=t(17852),v=t(94146),g=t(52326),x=function(){},I=function(){this.id="browser",this.deviceClass="Browser"},D="sessionManager",h="update",C="isUserCookieSet",k="isNewUser",m="getTraceCtx",w="telemetryTrace",O="applySessionContext",y="applyApplicationContext",S="applyDeviceContext",H="applyOperationContext",q="applyUserContext",U="applyOperatingSystemContxt",T="applyLocationContext",b="applyInternalContext",E="accountId",K="sdkExtension",_="getSessionId",N="namePrefix",P="sessionCookiePostfix",A="userCookiePostfix",Y="idLength",L="getNewId",V="length",Z="automaticSession",j="authenticatedId",B="sessionExpirationMs",M="sessionRenewalMs",W="config",R="acquisitionDate",$="renewalDate",z="cookieDomain",J="join",Q="cookieSeparator",F="authUserCookieName",X=function(n){this.sdkVersion=(n[K]&&n[K]()?n[K]()+"_":"")+"javascript:2.8.18"},G=function(){},nn=t(59261),ne=t(28951),nt=function(){},ni=function(){function n(e,t){var i,r,a=(0,l.vH)(t),u=(0,nn.JP)(t);(0,o.Z)(n,this,function(t){e||(e={}),(0,c.mf)(e[B])||(e[B]=function(){return n.acquisitionSpan}),(0,c.mf)(e[M])||(e[M]=function(){return n.renewalSpan}),t[W]=e;var o=t.config[P]&&t[W][P]()?t.config[P]():t.config[N]&&t[W][N]()?t[W][N]():"";function p(n,e){var t=!1,i=", session will be reset",o=e.split("|");if(o[V]>=2)try{var r=+o[1]||0,s=+o[2]||0;isNaN(r)||r<=0?(0,l.kP)(a,2,27,"AI session acquisition date is 0"+i):isNaN(s)||s<=0?(0,l.kP)(a,2,27,"AI session renewal date is 0"+i):o[0]&&(n.id=o[0],n[R]=r,n[$]=s,t=!0)}catch(n){(0,l.kP)(a,1,9,"Error parsing ai_session value ["+(e||"")+"]"+i+" - "+(0,c.jj)(n),{exception:(0,f.eU)(n)})}return t}function d(n,e){var o=n[R];n[$]=e;var a=t[W],s=a[M](),c=o+a[B]()-e,l=[n.id,o,e],f=0;f=c<s?c/1e3:s/1e3;var p=a[z]?a[z]():null;u.set(i(),l.join("|"),a[B]()>0?f:null,p),r=e}i=function(){return"ai_session"+o},t[Z]=new nt,t[h]=function(){var e,o,f,v=(0,c.m6)(),g=!1,x=t[Z];x.id||(g=!function(n,e){var t=!1,o=u.get(i());if(o&&(0,c.mf)(o.split))t=p(n,o);else{var r=(0,s.LN)(a,i());r&&(t=p(n,r))}return t||!!n.id}(x,0));var I=t.config[B]();if(!g&&I>0){var D=t.config[M](),h=v-x[R],C=v-x[$];g=(g=(g=h<0||C<0)||h>I)||C>D}g?(e=v,f=((o=t[W]||{})[L]?o[L]():null)||ne.pZ,t.automaticSession.id=f(o[Y]?o[Y]():22),t[Z][R]=e,d(t[Z],e),(0,s.d4)()||(0,l.kP)(a,2,0,"Browser does not support local storage. Session durations will be inaccurate.")):(!r||v-r>n.cookieUpdateInterval)&&d(x,v)},t.backup=function(){var n,e,o,r=t[Z];n=r.id,e=r[R],o=r[$],(0,s.TY)(a,i(),[n,e,o][J]("|"))}})}return n.acquisitionSpan=864e5,n.renewalSpan=18e5,n.cookieUpdateInterval=6e4,n}(),no=t(70728),nr=function(n,e,t,i){this.traceID=n||(0,no.DO)(),this.parentID=e;var o=(0,f.k$)();!t&&o&&o.pathname&&(t=o.pathname),this.name=(0,g.O$)(i,t)};function na(n){return!("string"!=typeof n||!n||n.match(/,|;|=| |\|/))}var ns=function(){function n(e,t){this.isNewUser=!1,this.isUserCookieSet=!1;var i,r=(0,l.vH)(t),a=(0,nn.JP)(t);(0,o.Z)(n,this,function(t){t[W]=e;var o=t.config[A]&&t[W][A]()?t[W][A]():"";i=function(){return n.userCookieName+o};var u=a.get(i());if(u){t[k]=!1;var f=u.split(n[Q]);f[V]>0&&(t.id=f[0],t[C]=!!t.id)}function p(){var n=e||{};return((n[L]?n[L]():null)||ne.pZ)(n[Y]?e[Y]():22)}function d(n){var e=(0,c.Y6)(new Date);return t.accountAcquisitionDate=e,t[k]=!0,[n,e]}function v(n){t[C]=a.set(i(),n,31536e3)}if(!t.id){t.id=p(),v(d(t.id)[J](n[Q]));var g=e[N]&&e[N]()?e[N]()+"ai_session":"ai_session";(0,s.KX)(r,g)}t[E]=e[E]?e[E]():void 0;var x=a.get(n[F]);if(x){var I=(x=decodeURI(x)).split(n[Q]);I[0]&&(t[j]=I[0]),I[V]>1&&I[1]&&(t[E]=I[1])}t.setAuthenticatedUserContext=function(e,i,o){if(void 0===o&&(o=!1),!na(e)||i&&!na(i))return void(0,l.kP)(r,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);t[j]=e;var s=t[j];i&&(t[E]=i,s=[t[j],t.accountId][J](n[Q])),o&&a.set(n[F],encodeURI(s))},t.clearAuthenticatedUserContext=function(){t[j]=null,t[E]=null,a.del(n[F])},t[h]=function(e){t.id===e&&t[C]||v(d(e||p())[J](n[Q]))}})}return n.cookieSeparator="|",n.userCookieName="ai_user",n.authUserCookieName="ai_authUser",n}(),nu="tags";function nc(n,e){n&&n[e]&&0===(0,c.FY)(n[e])[V]&&delete n[e]}var nl=function(){function n(e,t,i){var r=this,s=e.logger;this.appId=function(){return null},this[_]=function(){return null},(0,o.Z)(n,this,function(n){if(n.application=new x,n.internal=new X(t),(0,f.Ym)()){n[D]=new ni(t,e),n.device=new I,n.location=new G,n.user=new ns(t,e);var o,u=void 0,p=void 0;i&&(u=i.getTraceId(),p=i.getSpanId(),o=i.getName()),n[w]=new nr(u,p,o,s),n.session=new nt}n[_]=function(){var e=n.session,t=null;if(e&&(0,c.HD)(e.id))t=e.id;else{var i=(n[D]||{})[Z];t=i&&(0,c.HD)(i.id)?i.id:null}return t},n[O]=function(e,t){(0,c.sO)((0,c.qK)(e.ext,v.I.AppExt),"sesId",n[_](),c.HD)},n[U]=function(e,t){(0,c.sO)(e.ext,v.I.OSExt,n.os)},n[y]=function(e,t){var i=n.application;if(i){var o=(0,c.qK)(e,nu);(0,c.sO)(o,v.Y.applicationVersion,i.ver,c.HD),(0,c.sO)(o,v.Y.applicationBuild,i.build,c.HD)}},n[S]=function(e,t){var i=n.device;if(i){var o=(0,c.qK)((0,c.qK)(e,"ext"),v.I.DeviceExt);(0,c.sO)(o,"localId",i.id,c.HD),(0,c.sO)(o,"ip",i.ip,c.HD),(0,c.sO)(o,"model",i.model,c.HD),(0,c.sO)(o,"deviceClass",i.deviceClass,c.HD)}},n[b]=function(e,t){var i=n.internal;if(i){var o=(0,c.qK)(e,nu);(0,c.sO)(o,v.Y.internalAgentVersion,i.agentVersion,c.HD),(0,c.sO)(o,v.Y.internalSdkVersion,(0,g.O$)(s,i.sdkVersion,64),c.HD),(e.baseType===l.lQ.dataType||e.baseType===a.B.dataType)&&((0,c.sO)(o,v.Y.internalSnippet,i.snippetVer,c.HD),(0,c.sO)(o,v.Y.internalSdkSrc,i.sdkSrc,c.HD))}},n[T]=function(n,e){var t=r.location;t&&(0,c.sO)((0,c.qK)(n,nu,[]),v.Y.locationIp,t.ip,c.HD)},n[H]=function(e,t){var i=n[w];if(i){var o=(0,c.qK)((0,c.qK)(e,"ext"),v.I.TraceExt,{traceID:void 0,parentID:void 0});(0,c.sO)(o,"traceID",i.traceID,c.HD,c.le),(0,c.sO)(o,"name",i.name,c.HD,c.le),(0,c.sO)(o,"parentID",i.parentID,c.HD,c.le)}},n.applyWebContext=function(n,e){var t=r.web;t&&(0,c.sO)((0,c.qK)(n,"ext"),v.I.WebExt,t)},n[q]=function(e,t){var i=n.user;if(i){var o=(0,c.qK)(e,nu,[]);(0,c.sO)(o,v.Y.userAccountId,i[E],c.HD);var r=(0,c.qK)((0,c.qK)(e,"ext"),v.I.UserExt);(0,c.sO)(r,"id",i.id,c.HD),(0,c.sO)(r,"authId",i[j],c.HD)}},n.cleanUp=function(n,e){var t=n.ext;t&&(nc(t,v.I.DeviceExt),nc(t,v.I.UserExt),nc(t,v.I.WebExt),nc(t,v.I.OSExt),nc(t,v.I.AppExt),nc(t,v.I.TraceExt))}})}return n.__ieDyn=1,n}();let nf=function(n){function e(){var t,i,d,v=n.call(this)||this;return v.priority=110,v.identifier=r.A3,(0,o.Z)(e,v,function(n,o){function v(){t=null,i=null,d=null}v(),n.initialize=function(a,l,f,v){var g,x,I,D,h;o.initialize(a,l,f,v),g=a,x=n.identifier,I=n.core,D=(0,p.CD)(null,g,I),h=e.getDefaultConfig(),t=t||{},(0,c.rW)(h,function(n,e){t[n]=function(){return D.getConfig(x,n,e())}}),g.storagePrefix&&(0,s.mh)(g.storagePrefix),d=I[m](!1),n.context=new nl(I,t,d),i=(0,u.xx)(n.context[w],d),I.setTraceCtx(i),n.context.appId=function(){var n=I.getPlugin(r.TC);return n?n.plugin._appId:null},n._extConfig=t},n.processTelemetry=function(e,t){if((0,c.le)(e));else{t=n._getTelCtx(t),e.name===a.B.envelopeType&&t.diagLog().resetInternalMessageCount();var i,o,r,s=n.context||{};s.session&&"string"!=typeof n.context.session.id&&s[D]&&s[D][h]();var u=s.user;if(u&&!u[C]&&u[h](s.user.id),i=e,o=t,(0,c.qK)(i,"tags",[]),(0,c.qK)(i,"ext",{}),(r=n.context)[O](i,o),r[y](i,o),r[S](i,o),r[H](i,o),r[q](i,o),r[U](i,o),r.applyWebContext(i,o),r[T](i,o),r[b](i,o),r.cleanUp(i,o),u&&u[k]){u[k]=!1;var p=new l.lQ(72,((0,f.jW)()||{}).userAgent||"");(0,l.L4)(t.diagLog(),1,p)}n.processNext(e,t)}},n._doTeardown=function(n,e){var t=(n||{}).core();t&&t[m]&&t[m](!1)===i&&t.setTraceCtx(d),v()}}),v}return(0,i.ne)(e,n),e.getDefaultConfig=function(){var n,e;return(n={instrumentationKey:function(){return e}})[E]=function(){return null},n.sessionRenewalMs=function(){return 18e5},n.samplingPercentage=function(){return 100},n.sessionExpirationMs=function(){return 864e5},n[z]=function(){return null},n[K]=function(){return null},n.isBrowserLinkTrackingEnabled=function(){return!1},n.appId=function(){return null},n[_]=function(){return null},n[N]=function(){return e},n[P]=function(){return e},n[A]=function(){return e},n[Y]=function(){return 22},n[L]=function(){return null},n},e}(d.i)}}]);
//# sourceMappingURL=npm.microsoft+applicationinsights-properties-js@2.8.18_tslib@2.8.1.a85c5b95c2368392.js.map